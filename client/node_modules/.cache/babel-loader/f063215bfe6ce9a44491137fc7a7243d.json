{"ast":null,"code":"var _jsxFileName = \"/Users/mymac/repos/triva-game/client/src/components/TimeBar.js\";\nimport React from 'react';\nimport jQuery from 'jquery';\nimport { connect } from 'react-redux';\nimport { startTimer, stopTimer } from '../actions/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass TimeBar extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.width = 100;\n    this.startInterval = null;\n    this.points = 100;\n  }\n\n  componentDidMount() {\n    if (this.props.timerRunning) {\n      this.startTimerLocal();\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.props.timerRunning) {\n      this.startTimerLocal();\n    } else {\n      this.stopTimerLocal();\n    }\n  }\n\n  reduceBar() {\n    let $bar = jQuery(\"#inside\");\n    this.width -= 1;\n    this.points -= 10;\n\n    if (this.points <= 0) {\n      this.points = 0;\n    }\n\n    if (this.width === 70) {\n      $bar.css(\"background-color\", \"orange\");\n    } else if (this.width === 40) {\n      $bar.css(\"background-color\", \"red\");\n    }\n\n    let widthPercent = this.width + \"%\";\n    $bar.width(widthPercent);\n\n    if (points >= 0) {\n      this.timeUp();\n    }\n  }\n\n  timeUp() {\n    console.log(\"Times Up1\");\n  }\n\n  startTimerLocal() {\n    jQuery(\"#inside\").css(\"background-color\", \"green\");\n    this.width = 100;\n    this.props.startTimer();\n    this.startInterval = setInterval(this.reduceBar.bind(this), 200);\n  }\n\n  stopTimerLocal() {\n    clearInterval(this.startInterval);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"progress-bar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"inside\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    timerRunning: state.timerRunning\n  };\n};\n\nexport default connect(mapStateToProps, {\n  startTimer,\n  stopTimer\n})(TimeBar);","map":{"version":3,"sources":["/Users/mymac/repos/triva-game/client/src/components/TimeBar.js"],"names":["React","jQuery","connect","startTimer","stopTimer","TimeBar","Component","width","startInterval","points","componentDidMount","props","timerRunning","startTimerLocal","componentDidUpdate","stopTimerLocal","reduceBar","$bar","css","widthPercent","timeUp","console","log","setInterval","bind","clearInterval","render","mapStateToProps","state"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;;;AAGA,MAAMC,OAAN,SAAsBL,KAAK,CAACM,SAA5B,CAAsC;AAAA;AAAA;AAAA,SAEpCC,KAFoC,GAE5B,GAF4B;AAAA,SAGpCC,aAHoC,GAGpB,IAHoB;AAAA,SAIpCC,MAJoC,GAI1B,GAJ0B;AAAA;;AAMpCC,EAAAA,iBAAiB,GAAG;AAClB,QAAI,KAAKC,KAAL,CAAWC,YAAf,EAA6B;AAC3B,WAAKC,eAAL;AACD;AACF;;AAEDC,EAAAA,kBAAkB,GAAG;AACnB,QAAI,KAAKH,KAAL,CAAWC,YAAf,EAA6B;AAC3B,WAAKC,eAAL;AACD,KAFD,MAEO;AACL,WAAKE,cAAL;AACD;AACF;;AAEDC,EAAAA,SAAS,GAAG;AACV,QAAIC,IAAI,GAAGhB,MAAM,CAAC,SAAD,CAAjB;AACA,SAAKM,KAAL,IAAc,CAAd;AACA,SAAKE,MAAL,IAAe,EAAf;;AACA,QAAI,KAAKA,MAAL,IAAe,CAAnB,EAAsB;AACpB,WAAKA,MAAL,GAAc,CAAd;AACD;;AACD,QAAI,KAAKF,KAAL,KAAe,EAAnB,EAAuB;AACrBU,MAAAA,IAAI,CAACC,GAAL,CAAS,kBAAT,EAA6B,QAA7B;AACD,KAFD,MAEO,IAAI,KAAKX,KAAL,KAAe,EAAnB,EAAuB;AAC5BU,MAAAA,IAAI,CAACC,GAAL,CAAS,kBAAT,EAA6B,KAA7B;AACD;;AACD,QAAIC,YAAY,GAAG,KAAKZ,KAAL,GAAa,GAAhC;AACAU,IAAAA,IAAI,CAACV,KAAL,CAAWY,YAAX;;AACA,QAAIV,MAAM,IAAI,CAAd,EAAiB;AACf,WAAKW,MAAL;AACD;AACF;;AAEDA,EAAAA,MAAM,GAAG;AACPC,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD;;AAGDT,EAAAA,eAAe,GAAG;AAChBZ,IAAAA,MAAM,CAAC,SAAD,CAAN,CAAkBiB,GAAlB,CAAsB,kBAAtB,EAA0C,OAA1C;AACA,SAAKX,KAAL,GAAa,GAAb;AACA,SAAKI,KAAL,CAAWR,UAAX;AACA,SAAKK,aAAL,GAAqBe,WAAW,CAAC,KAAKP,SAAL,CAAeQ,IAAf,CAAoB,IAApB,CAAD,EAA4B,GAA5B,CAAhC;AACD;;AAEDT,EAAAA,cAAc,GAAG;AACfU,IAAAA,aAAa,CAAC,KAAKjB,aAAN,CAAb;AACD;;AAEDkB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,EAAE,EAAC,cAAR;AAAA,6BACE;AAAK,QAAA,EAAE,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAKD;;AA7DmC;;AAiEtC,MAAMC,eAAe,GAAGC,KAAK,IAAI;AAC/B,SAAO;AACLhB,IAAAA,YAAY,EAAEgB,KAAK,CAAChB;AADf,GAAP;AAGD,CAJD;;AAMA,eAAeV,OAAO,CAACyB,eAAD,EAAkB;AACtCxB,EAAAA,UADsC;AAEtCC,EAAAA;AAFsC,CAAlB,CAAP,CAGZC,OAHY,CAAf","sourcesContent":["import React from 'react';\nimport jQuery from 'jquery';\nimport { connect } from 'react-redux';\nimport { startTimer, stopTimer } from '../actions/index'\n\n\nclass TimeBar extends React.Component {\n    \n  width = 100;\n  startInterval = null;\n  points =  100;\n\n  componentDidMount() {\n    if (this.props.timerRunning) {\n      this.startTimerLocal();\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.props.timerRunning) {\n      this.startTimerLocal();\n    } else {\n      this.stopTimerLocal();\n    }\n  }\n\n  reduceBar() {\n    let $bar = jQuery(\"#inside\");\n    this.width -= 1;\n    this.points -= 10;\n    if (this.points <= 0) {\n      this.points = 0;\n    }\n    if (this.width === 70) {\n      $bar.css(\"background-color\", \"orange\")\n    } else if (this.width === 40) {\n      $bar.css(\"background-color\", \"red\")\n    } \n    let widthPercent = this.width + \"%\";\n    $bar.width(widthPercent);\n    if (points >= 0) {\n      this.timeUp();\n    }\n  }\n\n  timeUp() {\n    console.log(\"Times Up1\")\n  }\n \n\n  startTimerLocal() {\n    jQuery(\"#inside\").css(\"background-color\", \"green\");\n    this.width = 100;\n    this.props.startTimer();\n    this.startInterval = setInterval(this.reduceBar.bind(this), 200)\n  }\n\n  stopTimerLocal() {\n    clearInterval(this.startInterval);\n  }\n\n  render() {\n    return (\n      <div id=\"progress-bar\">\n        <div id=\"inside\"></div> \n      </div>\n    )\n  }\n \n}\n\nconst mapStateToProps = state => {\n  return {\n    timerRunning: state.timerRunning\n  }\n}\n\nexport default connect(mapStateToProps, {\n  startTimer,\n  stopTimer\n})(TimeBar);"]},"metadata":{},"sourceType":"module"}